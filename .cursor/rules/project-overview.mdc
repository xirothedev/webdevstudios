---
alwaysApply: true
---

# Project Overview - WebDev Studios E-commerce

## ğŸ¯ Project Summary

**WebDev Studios E-commerce** lÃ  má»™t monorepo fullstack sá»­ dá»¥ng Turborepo, bao gá»“m:
- **Frontend**: Next.js 16 (App Router) vá»›i Tailwind CSS v4
- **Backend**: NestJS 11 vá»›i CQRS pattern
- **Database**: PostgreSQL vá»›i Prisma ORM
- **Architecture**: Clean Architecture, CQRS, Monorepo

## ğŸ“¦ Tech Stack

### Frontend (`apps/web`)
- **Framework**: Next.js 16.1.1 (App Router)
- **Language**: TypeScript 5.x
- **Styling**: Tailwind CSS v4
- **Animations**: motion/react v12.23.26
- **UI Components**: shadcn/ui (Radix UI primitives)
- **Icons**: Lucide React
- **State Management**: React Server Components (RSC-first approach)
- **API Client**: Axios cho HTTP requests
- **Data Fetching**: TanStack Query (React Query) cho client-side state management
- **Image Optimization**: Next.js Image component vá»›i WebP format

### Backend (`apps/api`)
- **Framework**: NestJS 11.x
- **Language**: TypeScript 5.7.3
- **Architecture**: CQRS pattern vá»›i `@nestjs/cqrs`
- **Database**: PostgreSQL vá»›i Prisma 7.2.0
- **Authentication**: JWT vá»›i Passport.js
- **Validation**: class-validator, class-transformer
- **Caching**: Redis (ioredis)
- **Email**: Nodemailer vá»›i @nestjs-modules/mailer
- **API Documentation**: Swagger/OpenAPI

### Database
- **ORM**: Prisma 7.x.x
- **Database**: PostgreSQL
- **Schema Strategy**: Schema-first, tá»‘i Æ°u cho 4 sáº£n pháº©m cá»‘ Ä‘á»‹nh
- **Migrations**: Prisma Migrate

### DevOps & Tools
- **Monorepo**: Turborepo 2.x.x
- **Package Manager**: pnpm 10.x.x
- **Linting**: ESLint 9.x
- **Formatting**: Prettier 3.x.x
- **Git Hooks**: Husky + lint-staged

## ğŸ—ï¸ Architecture Overview

### Monorepo Structure
```
webdevstudios/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/          # Next.js frontend
â”‚   â””â”€â”€ api/          # NestJS backend
â”œâ”€â”€ docs/             # Documentation
â”œâ”€â”€ .cursor/rules/    # Cursor IDE rules
â””â”€â”€ package.json      # Root workspace config
```

### Frontend Architecture
- **App Router**: Next.js 16 App Router vá»›i Server Components
- **Component Structure**: 
  - `src/components/` - Reusable components
  - `src/components/ui/` - shadcn/ui components
  - `src/components/wds/` - WebDev Studios specific components
  - `src/components/shop/` - E-commerce components
- **Routing**: File-based routing vá»›i App Router
- **Styling**: Tailwind CSS v4 vá»›i custom utilities
- **Themes**: Support cáº£ dark theme (shop) vÃ  white theme (WDS)

### Backend Architecture
- **CQRS Pattern**: TÃ¡ch biá»‡t Command (write) vÃ  Query (read)
- **Module Structure**:
  ```
  src/modules/<feature>/
  â”œâ”€â”€ commands/        # Write operations
  â”œâ”€â”€ queries/         # Read operations
  â”œâ”€â”€ domain/          # Domain entities
  â”œâ”€â”€ infrastructure/  # Repositories
  â””â”€â”€ <feature>.controller.ts
  ```
- **Dependency Injection**: NestJS DI container
- **Guards**: JWT authentication guard (global)
- **Interceptors**: Request/Response transformation
- **Filters**: Global exception filters

### Database Schema
- **4 Fixed Products**: Ão thun, Pad chuá»™t, DÃ¢y Ä‘eo, MÃ³c khÃ³a
- **ProductSlug Enum**: Type-safe product identification
- **Simplified Schema**: Tá»‘i Æ°u cho 4 sáº£n pháº©m, khÃ´ng cÃ³ Category/Variant phá»©c táº¡p
- **Size Management**: ProductSizeStock cho Ã¡o thun (S, M, L, XL)

## ğŸ¨ Design System

### Color Palette (WebDev Studios)
- **Black**: `#000000` - Background dark theme
- **White**: `#FFFFFF` - Background light theme
- **Orange Accent**: `#F7931E` - Primary accent
- **Cream Secondary**: `#FFF8E1` - Secondary color

### Typography
- **Font**: Inter (Google Fonts)
- **Responsive**: Mobile-first approach

### Components
- **shadcn/ui**: Base UI components
- **Custom Components**: WDS-specific components vá»›i animations
- **Motion**: motion/react cho animations

## ğŸ“‹ Key Features

### E-commerce Features
- Product catalog (4 fixed products)
- Shopping cart
- Order management
- User authentication (JWT + OAuth)
- Product reviews/ratings
- Stock management (vá»›i size cho Ã¡o thun)

### WebDev Studios Features
- Landing page vá»›i hero section
- About page vá»›i mission/vision
- Contact information
- Client/Partner showcase
- SEO optimization (metadata, structured data, sitemap)

## ğŸ”§ Development Environment

### Prerequisites
- Node.js >= 18.0.0
- pnpm >= 8.0.0
- PostgreSQL database
- Redis (optional, for caching)

### Environment Variables
- **Frontend**: `NEXT_PUBLIC_SITE_URL`
- **Backend**: `JWT_SECRET_KEY`, `JWT_ACCESS_TOKEN_EXPIRES_IN`, database URL, etc.

### Scripts
- `pnpm dev` - Start all apps in development mode
- `pnpm build` - Build all apps
- `pnpm lint` - Lint all apps
- `pnpm format` - Format code with Prettier

## ğŸ“ Important Notes

1. **Product Schema**: ÄÆ°á»£c tá»‘i Æ°u cho 4 sáº£n pháº©m cá»‘ Ä‘á»‹nh. Náº¿u cáº§n má»Ÿ rá»™ng, cÃ¢n nháº¯c rebuild schema.
2. **CQRS Pattern**: Backend PHáº¢I tuÃ¢n thá»§ CQRS - Controllers chá»‰ dispatch Commands/Queries, khÃ´ng cÃ³ business logic.
3. **Server Components First**: Frontend Æ°u tiÃªn Server Components, chá»‰ dÃ¹ng `'use client'` khi cáº§n thiáº¿t.
4. **Type Safety**: Sá»­ dá»¥ng TypeScript strict mode, trÃ¡nh `any`, sá»­ dá»¥ng enums cho constants.
5. **Code Quality**: LuÃ´n cháº¡y `pnpm lint` vÃ  `pnpm format` sau khi code.
